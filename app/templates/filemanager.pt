<!DOCTYPE html>
<html>
    <head>
        <title>Kuvien hallinta</title>
        <script type="text/javascript" src="/static/jquery-2.0.3.min.js"></script>
        <link rel="stylesheet" type="text/css" href="/static/common.css">

	    <link href="/static/uploadfile.css" rel="stylesheet">
	    <script src="/static/jquery.uploadfile.min.js"></script>

        <style type="text/css">

            #files {

            }

            #upload {
                visibility: hidden;

                display: block;
                position: absolute;

                width: 500px;
                height: 350px;

                top: 160px;
                left: 50%;
                margin-left: -250px;

                background-color: lightgray;
            }

            .popup_titlebar {
                display: block;
                width: 100%;
                height: 32px;

                background-color: #a0a0a0;
            }

            .popup_container {
                margin: 10px;
            }

            .closebutton {
                display: block;

                position: absolute;
                right: 0px;
                margin: 6px;

                cursor: pointer;
            }

        </style>
        <script type="text/javascript">
    	    $(document).ready(
                function load() {
                    $("#uploader").uploadFile(
                        {
                            "url": "/upload/",
                            "multiple": true
                        }
                    );

                }
    	    );
        
            function deletePics() {
		document.forms['managefiles'].elements['action'].value = "delete";
		document.forms['managefiles'].submit();
            }

            function uploadPics() {
                $("#upload").css("visibility", "visible");
            }

            function closeUpload() {
                location.reload();
                //$("#upload").css("visibility", "hidden");
            }
        </script>
    </head>
    <body>
        <div id="container">
            <div id="content">
            	<div id="title"><h2>Kuvien hallinta</h2></div>
                <div id="nav"><a href="/">Matriisi</a> | <a href="/files/">Kuvien hallinta</a> | Näyttöjen hallinta</div>
                <br><br><br>
                <div id="actions">
                    <div id="add" class="button" onclick="uploadPics()">Lisää kuvia</div>
                    <div id="remove" class="button" onclick="deletePics()">Poista valitut</div>
                </div>
                <br><br>
                
                <div id="files">
            	    <form id="managefiles" method="GET" action="/files/">
            		<input type="hidden" name="action" value=""></input>
                        <table>
	                    <tr tal:repeat="filename files">
    	    	                <td><input type="checkbox" name="remove_${filename}" id="cb_${filename}"></td><td><label for="cb_${filename}">${filename}</label></td>
    		            </tr>
    	                </table>
    	            </form>
                </div>
            </div>
        </div>

        <div id="upload">
            <div class="popup_titlebar">
                <div class="closebutton" onclick="closeUpload()"><b>X</b></div>
            </div>
            <div class="popup_container">
    	        <div id="uploader">Valitse</div>
            </div>
        </div>
    </body>
</html>
